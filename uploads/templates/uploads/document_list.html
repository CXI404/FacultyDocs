<!DOCTYPE html>
<html>
<head>
    <title>Document List</title>
</head>
<body>
    <h1>Uploaded Documents</h1>

    <!-- Category Filter Form -->
    <form method="GET" action="">
        <label for="category">Filter by Category:</label>
        <select name="category" id="category" onchange="this.form.submit()">
            <option value="">All Categories</option>
            {% for cat in categories %}
                <option value="{{ cat }}" {% if request.GET.category == cat %}selected{% endif %}>
                    {{ cat }}
                </option>
            {% endfor %}
        </select>
    </form>

    <ul>
        {% for document in documents %}
            <li>
                <strong>{{ document.title }}</strong> -
                <a href="{{ document.file.url }}" download>Download</a>
                (Uploaded on: {{ document.uploaded_at|date:"F d, Y, h:i A" }})
                - Category: {{ document.category }}
            </li>
        {% empty %}
            <li>No documents uploaded yet.</li>
        {% endfor %}
    </ul>
</body>
</html>
